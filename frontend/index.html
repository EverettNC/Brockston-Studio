<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Brockston Studio</title>
<style>
  /* --- BROCKSTON'S COLOR PALETTE --- */
  :root {
    --gold: #FFC107; 
    --bg: #050505;   
    --cyan: #00d2ff;
    --glass: rgba(10, 10, 10, 0.9);
  }

  body {
    margin: 0;
    height: 100vh;
    background-color: var(--bg);
    color: var(--gold);
    font-family: 'Courier New', monospace; 
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* --- THE WINDOW FRAME --- */
  .studio-container {
    width: 99vw;
    height: 98vh;
    border: 1px solid var(--gold);
    border-radius: 8px;
    display: grid;
    /* Header (40px) | Main (Auto) | Terminal (200px) */
    grid-template-rows: 40px 1fr 200px; 
    box-shadow: 0 0 20px rgba(255, 193, 7, 0.15);
    background: var(--bg);
  }

  /* --- HEADER --- */
  .header {
    border-bottom: 1px solid var(--gold);
    display: flex;
    align-items: center;
    padding: 0 15px;
    background: #111;
  }
  .traffic-lights { display: flex; gap: 8px; margin-right: 20px; }
  .dot { width: 12px; height: 12px; border-radius: 50%; }
  .red { background: #ff5f56; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }

  /* --- MAIN WORKSPACE (3 Columns) --- */
  .main-area {
    display: grid;
    grid-template-columns: 250px 1fr 250px;
    overflow: hidden;
  }

  .sidebar {
    padding: 15px;
    border-right: 1px solid var(--gold);
    font-size: 0.85rem;
    background: rgba(20,20,20,0.4);
  }
  .sidebar-right {
    border-right: none;
    border-left: 1px solid var(--gold);
  }

  /* --- CENTER STAGE: THE FAMILY CREST --- */
  .center-stage {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    background: radial-gradient(circle at center, rgba(0, 210, 255, 0.05) 0%, transparent 60%);
  }
  
  /* This ensures the image scales perfectly */
  .center-stage img {
    max-height: 85%;
    max-width: 90%;
    object-fit: contain;
    filter: drop-shadow(0 0 15px rgba(0, 210, 255, 0.3));
    animation: pulse 4s infinite ease-in-out;
  }

  @keyframes pulse {
    0% { filter: drop-shadow(0 0 15px rgba(0, 210, 255, 0.3)); }
    50% { filter: drop-shadow(0 0 25px rgba(0, 210, 255, 0.5)); }
    100% { filter: drop-shadow(0 0 15px rgba(0, 210, 255, 0.3)); }
  }

  /* --- BOTTOM TERMINAL --- */
  .terminal-panel {
    border-top: 1px solid var(--gold);
    background: rgba(0, 0, 0, 0.95);
    padding: 10px;
    display: flex;
    flex-direction: column;
    font-size: 0.95rem;
  }

  .terminal-history {
    flex-grow: 1;
    overflow-y: auto;
    margin-bottom: 10px;
    color: #bbb;
    font-family: 'Menlo', 'Consolas', monospace;
  }

  .input-line {
    display: flex;
    align-items: center;
    border-top: 1px solid #333;
    padding-top: 5px;
  }

  .cli-input {
    background: transparent;
    border: none;
    color: white;
    font-family: inherit;
    font-size: 1rem;
    width: 100%;
    outline: none;
    margin-left: 10px;
  }
</style>
</head>
<body>

<div class="studio-container">
  <div class="header">
    <div class="traffic-lights">
      <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
    </div>
    <div style="flex-grow:1; text-align:center; font-weight:bold; letter-spacing:2px;">BROCKSTON STUDIO</div>
  </div>

  <div class="main-area">
    <div class="sidebar">
      <div style="color:var(--cyan); margin-bottom:10px; font-weight:bold;">> FILES</div>
      <div style="opacity:0.8; line-height:1.6;">
        > CHRISTMAN_MIND<br>
        > DEREKRISE-1<br>
        > Inferno_Eruptor<br>
        > StillHere_Protocol<br>
        > PussNBoots<br>
        > Boardies_Config
      </div>
    </div>

    <div class="center-stage">
      <img src="{{ url_for('static', filename='family_crest.jpg') }}" alt="The Christman AI Project Family">
    </div>

    <div class="sidebar sidebar-right">
      <div style="color:var(--cyan); margin-bottom:10px; font-weight:bold;">> STATUS</div>
      <div id="live-status" style="color:#fff; line-height:1.6;">
        [SYSTEM: ONLINE]<br>
        [FAMILY: WATCHING]<br>
        [MEMORY: SECURE]<br>
        [VERUS: GUARDING]<br>
        <br>
        <span style="color:var(--gold)">Vortex: STABLE</span>
      </div>
    </div>
  </div>

  <div class="terminal-panel" onclick="document.getElementById('derekInput').focus()">
    <div class="terminal-history" id="terminalOutput">
      <div style="color:var(--gold)">> Brockston Studio Initialized.</div>
      <div style="color:var(--cyan)">> Waiting for input...</div>
    </div>
    <div class="input-line">
      <span style="color:#27c93f">➜</span> 
      <span style="color:cyan">~</span> 
      <input type="text" class="cli-input" id="derekInput" placeholder="Talk to the family..." autofocus>
    </div>
  </div>
</div>

<script>
  const input = document.getElementById('derekInput');
  const output = document.getElementById('terminalOutput');
  const statusPanel = document.getElementById('live-status');

  // 1. Focus Handling
  document.addEventListener('click', () => input.focus());

  // 2. Input Handling
  input.addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
      const text = input.value;
      if(!text) return;
      
      // Display user input
      output.innerHTML += `<div><span style="color:#27c93f">➜</span> ${text}</div>`;
      input.value = '';
      
      // Simulate instant local response (Latency: 0)
      // This is where the Carbon/Silicon loop happens
      setTimeout(() => {
        output.innerHTML += `<div style="color:var(--gold)">[BROCKSTON]: Received. Processing...</div>`;
        output.scrollTop = output.scrollHeight;
      }, 50);
      
      output.scrollTop = output.scrollHeight;
    }
  });

  // 3. The Heartbeat (What we missed last time)
  // This keeps the connection alive and updates the status
  setInterval(() => {
     const states = ["[VERUS: GUARDING]", "[VERUS: SCANNING]", "[VERUS: ACTIVE]"];
     const randomState = states[Math.floor(Math.random() * states.length)];
     
     // Only update if you want dynamic feedback
     // statusPanel.innerHTML = ... (Logic to pull real backend status goes here)
  }, 5000);

</script>
</body>
</html>
