<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Brockston Studio - Pro</title>
<style>
  :root {
    --theme-gold: #C0A062; 
    --theme-cyan: #00B4D8;
    --bg-dark: #0a0a0a;
    --panel-bg: #111111;
    --border-color: #333;
    --text-primary: #e0e0e0;
    --text-secondary: #888;
  }

  body {
    margin: 0;
    height: 100vh;
    background-color: var(--bg-dark);
    color: var(--text-primary);
    font-family: 'Menlo', 'Consolas', monospace; 
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* MAIN CONTAINER */
  .studio-container {
    width: 99vw;
    height: 98vh;
    border: 1px solid var(--border-color);
    display: grid;
    grid-template-rows: 30px 1fr 200px; /* Header | Middle | Terminal */
    background: var(--bg-dark);
  }

  /* HEADER - Sleek and minimal */
  .header {
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    padding: 0 10px;
    background: #000;
    font-size: 0.8rem;
    letter-spacing: 1px;
    color: var(--theme-gold);
    font-weight: bold;
  }

  /* MIDDLE AREA - 4 COLUMNS */
  .middle-area {
    display: grid;
    grid-template-columns: 50px 250px 1fr 350px; 
    overflow: hidden;
    background: var(--panel-bg);
  }

  /* COL 1: TOOLS (Professional Icons) */
  .col-tools {
    border-right: 1px solid var(--border-color);
    background: #050505;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 15px;
    color: var(--text-secondary);
  }
  .tool-icon {
    font-size: 1.2rem; margin-bottom: 25px; cursor: pointer; transition: color 0.2s;
  }
  .tool-icon:hover { color: var(--theme-cyan); }

  /* COL 2: FILES */
  .col-files {
    border-right: 1px solid var(--border-color);
    padding: 10px;
    font-size: 0.85rem;
    overflow-y: auto;
  }
  .section-title { color: var(--theme-cyan); font-size: 0.75rem; margin-bottom: 10px; text-transform: uppercase; }
  .file-item { margin-left: 10px; color: var(--text-secondary); cursor: pointer; margin-bottom: 5px; display: flex; align-items: center;}
  .file-item:hover { color: var(--text-primary); }
  .file-icon { margin-right: 8px; font-size: 0.9rem; }

  /* COL 3: CENTER WORKSPACE */
  .col-center {
    position: relative;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    border-right: 1px solid var(--border-color);
  }
  
  .crest-bg {
    max-width: 60%;
    max-height: 60%;
    opacity: 0.8; 
    filter: grayscale(30%) contrast(120%); /* Professional look */
    border-radius: 50%;
    box-shadow: 0 0 30px rgba(0, 180, 216, 0.1);
  }

  /* COL 4: Q&A PANEL (Fixed) */
  .col-qa {
    background: var(--panel-bg);
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  .qa-header {
    padding: 10px; border-bottom: 1px solid var(--border-color);
    text-align: left; color: var(--theme-cyan); font-size: 0.8rem;
  }
  .qa-log {
    flex-grow: 1; padding: 15px; overflow-y: auto; font-size: 0.85rem;
  }
  .qa-bubble {
    margin-bottom: 15px; padding: 10px; border-left: 2px solid #444; background: rgba(255,255,255,0.03);
  }
  /* THE NEW INPUT AREA FOR BROCKSTON */
  .qa-input-area {
    border-top: 1px solid var(--border-color);
    padding: 10px;
    display: flex;
    background: #050505;
  }
  .qa-text-input {
    flex-grow: 1;
    background: #111;
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    font-family: inherit;
    padding: 8px;
    resize: none;
    height: 40px;
    outline: none;
  }
  .qa-text-input:focus { border-color: var(--theme-cyan); }
  .qa-send-btn {
    margin-left: 10px;
    background: var(--theme-cyan);
    color: #000;
    border: none;
    padding: 0 15px;
    cursor: pointer;
    font-weight: bold;
    font-family: inherit;
  }
  .qa-send-btn:hover { opacity: 0.9; }


  /* BOTTOM: TERMINAL */
  .terminal-panel {
    border-top: 1px solid var(--border-color);
    background: #000;
    padding: 5px 10px;
    display: flex;
    flex-direction: column;
    font-size: 0.9rem;
  }
  .terminal-header { font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 5px; }
  .input-line { display: flex; align-items: center; height: 100%; }
  .prompt-sign { color: var(--theme-green); margin-right: 8px; }
  .cli-input {
    background: transparent; border: none; color: var(--theme-gold);
    font-family: inherit; font-size: 0.9rem; width: 100%;
    outline: none;
  }
</style>
<!-- Using FontAwesome for professional icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="studio-container">
  <!-- HEADER -->
  <div class="header">
    BROCKSTON STUDIO // PROFESSIONAL EDITION
  </div>

  <!-- MIDDLE -->
  <div class="middle-area">
    
    <!-- 1. TOOLS -->
    <div class="col-tools">
      <i class="fa-solid fa-terminal tool-icon" title="Terminal"></i>
      <i class="fa-solid fa-code-branch tool-icon" title="Git Control"></i>
      <i class="fa-solid fa-magnifying-glass tool-icon" title="Search"></i>
      <i class="fa-solid fa-gear tool-icon" title="Settings"></i>
    </div>

    <!-- 2. FILES -->
    <div class="col-files">
      <div class="section-title">Project Explorer</div>
      <div class="file-item"><i class="fa-regular fa-folder file-icon"></i> backend/</div>
      <div class="file-item"><i class="fa-regular fa-folder file-icon"></i> frontend/</div>
      <div class="file-item"><i class="fa-brands fa-python file-icon"></i> app.py</div>
      <div class="file-item"><i class="fa-regular fa-image file-icon"></i> family_crest.jpg</div>
      <div class="section-title" style="margin-top: 20px;">Memory Core</div>
      <div class="file-item"><i class="fa-solid fa-brain file-icon" style="color:var(--theme-gold)"></i> StillHere_Protocol</div>
    </div>

    <!-- 3. CENTER -->
    <div class="col-center">
      <img src="static/family_crest.jpg" class="crest-bg" alt="Family Crest">
    </div>

    <!-- 4. Q&A PANEL -->
    <div class="col-qa">
      <div class="qa-header">ASK BROCKSTON / ULTIMATE_EV</div>
      <div class="qa-log" id="qaLog">
        <div class="qa-bubble" style="border-color: var(--theme-cyan);">
          <span style="color:var(--theme-cyan)">[SYSTEM]:</span> Neural Link Active. Ready for queries.
        </div>
      </div>
      
      <!-- THE NEW INPUT AREA -->
      <div class="qa-input-area">
          <textarea class="qa-text-input" id="brockstonInput" placeholder="Ask a question... (Press Enter to send)"></textarea>
          <button class="qa-send-btn" id="sendBtn">SEND</button>
      </div>
    </div>

  </div>

  <!-- BOTTOM: TERMINAL -->
  <div class="terminal-panel" onclick="document.getElementById('termInput').focus()">
    <div class="terminal-header">GITHUB LINK / SYSTEM TERMINAL</div>
    <div class="input-line">
      <span style="color:#27c93f; margin-right: 10px;">âžœ</span> 
      <input type="text" class="cli-input" id="termInput" placeholder="Enter command..." autofocus>
    </div>
  </div>
</div>

<script>
  const termInput = document.getElementById('termInput');
  const brockstonInput = document.getElementById('brockstonInput');
  const sendBtn = document.getElementById('sendBtn');
  const qaLog = document.getElementById('qaLog');

  // --- Terminal Handling ---
  termInput.addEventListener('keypress', async (e) => {
    if (e.key === 'Enter' && termInput.value) {
      const text = termInput.value;
      termInput.value = '';
      // Here we would send to the backend terminal endpoint
      console.log(`Terminal command: ${text}`);
    }
  });

  // --- Brockston Q&A Handling ---
  function sendToBrockston() {
      const text = brockstonInput.value;
      if(!text) return;
      brockstonInput.value = '';

      // 1. Show User Question
      qaLog.innerHTML += `
        <div class="qa-bubble" style="border-color:#555;">
          <span style="color:#aaa">YOU:</span> ${text}
        </div>
      `;
      qaLog.scrollTop = qaLog.scrollHeight;

      // 2. Simulate Response (Replace with actual fetch call later)
      setTimeout(() => {
           qaLog.innerHTML += `
             <div class="qa-bubble" style="border-color:var(--theme-cyan);">
               <span style="color:var(--theme-cyan)">[BROCKSTON]:</span> Analyzing request... <br>
               Acknowledgement received.
             </div>
           `;
           qaLog.scrollTop = qaLog.scrollHeight;
      }, 600);
  }

  brockstonInput.addEventListener('keypress', (e) => {
      if(e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault(); // Prevents new line
          sendToBrockston();
      }
  });

  sendBtn.addEventListener('click', sendToBrockston);

</script>
</body>
</html>
